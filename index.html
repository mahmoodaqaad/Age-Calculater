<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=\, initial-scale=1.0">
    <title>Age Calculate App</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="Calculator">
            <h1>JavaScript <br><span> Age Calculator </span></h1>
            <div class="input-box">

                <input type="date" id="data" onchange="CalculateAge()">
                <!-- <button onclick="CalculateAge()">Calculate</button> -->
            </div>
            <p id="result" class="result"></p>
        </div>
    </div>

    <script>
        let user_input = document.getElementById("data")
        let p = document.getElementById("result")
        user_input.max = new Date().toISOString().split("T")[0]//عشان ما ياخد التاريخ الي لسا ما اجا
        console.log(user_input.max)
        function CalculateAge() {

            let birthdate = new Date(user_input.value);
            // console.log(birthdate.getMonth()+1 + " - " + birthdate.getDate() + " - " + birthdate.getFullYear())
            let d1 = birthdate.getDate();
            let m1 = birthdate.getMonth() + 1;
            let y1 = birthdate.getFullYear();

            let tody = new Date();

            let d2 = tody.getDate();
            let m2 = tody.getMonth() + 1;
            let y2 = tody.getFullYear();

            let d3, m3, y3;

            y3 = y2 - y1;
console.log(y3)
            if (m2 >= m1) {

                m3 = m2 - m1;

            }
            else{
            console.log("الشهر الحالي اصغر من التاني")
                y3--;
                m3 = 12 + m2 - m1;
            }
            if (d2 >= d1) {
                d3 = d2 - d1
            }
            else {

                m3--;
                d3 = getDasysInMonth(y1, m1) + d2 - d1
            }
            if (m3 < 0) {
                m3 = 11;
                y3--;
            }
            p.innerHTML = `You Are <span> ${y3}</span> Years, <span> ${m3}</span> Months and <span> ${d3}</span> days`
        }
        function getDasysInMonth(year, month) {
            return new Date(year, month, 0).getDate()
        }

        //
    </script>
</body>

</html>